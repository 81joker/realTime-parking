import{u as x,a as l,d as h,j as e,S as p,k as f,y as g}from"./index-y9liIk2y.js";import{u as n}from"./useValdation-BNHJ8c9P.js";function v(){const{isLoggedIn:i}=x(s=>s.user),[r,d]=l.useState({name:"",email:"",password:""}),[t,c]=l.useState(null),[u,m]=l.useState(!1);let o=h();l.useEffect(()=>{i&&o("/")},[i,o]);const b=async s=>{s.preventDefault(),c(null),m(!0);try{const a=await f(r);g.success(a.message),o("/login")}catch(a){a?.response?.status===422&&c(a.response.data.errors),console.log(a)}finally{m(!1)}};return e.jsx("div",{className:"row my-5",children:e.jsx("div",{className:"col-md-6 mx-auto",children:e.jsxs("div",{className:"card border-dark border border-2 shadow rounded-0",children:[e.jsx("div",{className:"card-header border-dark border-2 bg-white text-center mt-2",children:e.jsx("h5",{children:"Register"})}),e.jsx("div",{className:"card-body",children:e.jsxs("form",{onSubmit:s=>b(s),children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"name",className:"form-label fw-bold",children:"Name*"}),e.jsx("input",{type:"text",className:"form-control p-2 border border-2 rounded-0 border-dark",id:"name",value:r.name,onChange:s=>d({...r,name:s.target.value})}),n(t,"name")]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"email",className:"form-label fw-bold",children:"Email*"}),e.jsx("input",{type:"email",className:"form-control p-2 border border-2 rounded-0 border-dark",id:"email",value:r.email,onChange:s=>d({...r,email:s.target.value})}),n(t,"email")]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"password",className:"form-label fw-bold",children:"Password*"}),e.jsx("input",{type:"password",className:"form-control p-2 border border-2 rounded-0 border-dark",id:"password",value:r.password,onChange:s=>d({...r,password:s.target.value})}),n(t,"password")]}),u?e.jsx(p,{}):e.jsx("button",{type:"submit",className:"btn btn-dark w-100 rounded-0 fw-bold",children:"Register"})]})}),e.jsx("div",{className:"card-footer border-dark border-2 text-center",children:e.jsxs("small",{className:"text-muted",children:["Already have an account? ",e.jsx("span",{className:"fw-bold",style:{cursor:"pointer"},onClick:()=>o("/login"),children:"Login"})]})})]})})})}export{v as default};
