import{u as x,a as o,b as p,d as f,j as e,S as g,N as j,l as N,i as w,y as v}from"./index-y9liIk2y.js";import{u as m}from"./useValdation-BNHJ8c9P.js";function S(){const{isLoggedIn:d}=x(s=>s.user),[a,l]=o.useState({email:"",password:""}),u=p(),[n,i]=o.useState(null),[b,c]=o.useState(!1);let t=f();o.useEffect(()=>{d&&t("/")},[d,t]);const h=async s=>{s.preventDefault(),i(null),c(!0);try{const r=await N(a);u(w({user:r.user,token:r.access_token})),v.success(r.message),t("/")}catch(r){r?.response?.status===422&&i(r.response.data.errors),console.log(r)}finally{c(!1)}};return e.jsx("div",{className:"row my-5",children:e.jsx("div",{className:"col-md-6 mx-auto",children:e.jsxs("div",{className:"card border-dark border border-2 shadow rounded-0",children:[e.jsx("div",{className:"card-header border-dark border-2 bg-white text-center mt-2",children:e.jsx("h5",{children:"Login"})}),e.jsx("div",{className:"card-body",children:e.jsxs("form",{onSubmit:s=>h(s),children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"email",className:"form-label fw-bold",children:"Email*"}),e.jsx("input",{type:"email",className:"form-control p-2 border border-2 rounded-0 border-dark",id:"email",value:a.email,onChange:s=>l({...a,email:s.target.value})}),m(n,"email")]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"password",className:"form-label fw-bold",children:"Password*"}),e.jsx("input",{type:"password",className:"form-control p-2 border border-2 rounded-0 border-dark",id:"password",value:a.password,onChange:s=>l({...a,password:s.target.value})}),m(n,"password")]}),b?e.jsx(g,{}):e.jsx("button",{type:"submit",className:"btn btn-dark w-100 rounded-0 fw-bold",children:"Login"})]})}),e.jsx("div",{className:"card-footer border-dark border-2 text-center",children:e.jsxs("small",{className:"text-muted",children:["New User Register",e.jsx(j,{to:"/register",className:"fw-bold text-decoration-none",children:" here"})]})})]})})})}export{S as default};
